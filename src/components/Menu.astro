---
---

<nav>
  <button type="button" id="toggle-menu"><span class="bars"></span></button>
  <div id="menu" class="menu-closed">
    <slot />
  </div>
</nav>

<script>
function toggleMenu() {
  let menu = document.getElementById("menu");

  if (menu === null) {
    menu = document.createElement("div");
    menu.id = "menu";
    menu.className = "menu-closed";
  } else if (menu.className === null) {
    menu.className = "menu-closed";
  }

  menu.className = menu.className === "menu-closed" ? "menu-opened" : "menu-closed";
}

let button = document.getElementById("toggle-menu");

if (button === null) {
  button = document.createElement("button");
  button.id = "toggle-menu";
}

button.addEventListener("click", toggleMenu);
</script>

<style lang="scss">
  #toggle-menu {
    position: fixed;
    top: 0.5rem;
    left: 0.5rem;
    width: 3rem;
    height: 3rem;
    font-size: 2rem;
    background-color: $theme-background-color;
    color: $theme-color;
    border-radius: 8px;

    span::before {
      @extend %fa-icon;
      @extend .fa-solid;

      content: fa-content($fa-var-bars);
    }
  }

  div {
    @include theme;

    position: fixed;
    top: 0;
    bottom: 0;
    margin-top: 4rem;
    width: 25%;
    padding: 1rem;

    &.menu-opened {
      display: block;
    }

    &.menu-closed {
      display: none;
    }
  }
</style>
